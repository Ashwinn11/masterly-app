@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Masterly iOS Theme - Cream + Forest Green */
    --background: 48 40% 98%;
    /* #FDFBF7 */
    --foreground: 0 0% 18%;
    /* #2D2D2D */

    --card: 48 40% 98%;
    --card-foreground: 0 0% 18%;

    --popover: 48 40% 98%;
    --popover-foreground: 0 0% 18%;

    /* Primary: Forest Green (2D4F1E) */
    --primary: 102 45% 21%;
    --primary-foreground: 48 40% 98%;

    /* Secondary: Brick Red (A44231) */
    --secondary: 9 54% 42%;
    --secondary-foreground: 48 40% 98%;

    /* Accent: Mustard Yellow (E9B44C) */
    --accent: 40 79% 61%;
    --accent-foreground: 0 0% 18%;

    --muted: 73 10% 88%;
    /* Light muted background */
    --muted-foreground: 73 10% 40%;
    /* Dark text for good contrast on light background */

    --destructive: 9 54% 42%;
    --destructive-foreground: 48 40% 98%;

    --border: 0 0% 18% / 0.15;
    --input: 0 0% 18% / 0.1;
    --ring: 102 45% 21%;

    /* Sidebar colors */
    --sidebar-background: 48 40% 98%;
    --sidebar-foreground: 0 0% 18%;
    --sidebar-primary: 102 45% 21%;
    --sidebar-primary-foreground: 48 40% 98%;
    --sidebar-accent: 40 79% 61%;
    --sidebar-accent-foreground: 0 0% 18%;
    --sidebar-border: 0 0% 18% / 0.1;
    --sidebar-ring: 102 45% 21%;

    --radius: 1.5rem;

    /* Crayon Shadow */
    --shadow-crayon: 4px 4px 0px 0px hsla(0, 0%, 18%, 0.1);
  }

  .dark {
    /* Keeping the same theme for now as iOS design.json is light-centric */
    --background: 48 40% 98%;
    --foreground: 0 0% 18%;
    --card: 48 40% 98%;
    --card-foreground: 0 0% 18%;
    --primary: 102 45% 21%;
    --primary-foreground: 48 40% 98%;
    --secondary: 9 54% 42%;
    --accent: 40 79% 61%;
    --border: 0 0% 18% / 0.15;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Chalkboard SE', 'Patrick Hand', 'Comic Sans MS', cursive, sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-bold tracking-tight;
    font-family: 'Chalkboard SE', 'Patrick Hand', 'Comic Sans MS', cursive, sans-serif;
  }
}

@layer utilities {
  .ease-bounce {
    transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .shadow-pop {
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  /* Tactile Interactions */
  .btn-pop {
    @apply transition-transform duration-200 ease-bounce active:scale-95 hover:-translate-y-1 hover:shadow-pop active:translate-y-0 active:shadow-none;
  }

  .card-hover {
    @apply transition-all duration-300 hover:-translate-y-2 hover:shadow-xl;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* Decorative Blobs */
  .blob-bg {
    background-image: radial-gradient(circle at 50% 50%, var(--tw-gradient-stops));
  }

  /* Animations */
  @keyframes blob {

    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }

    33% {
      transform: translate(30px, -50px) scale(1.1);
    }

    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0px);
    }

    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }

    100% {
      transform: translateX(-100%);
    }
  }

  @keyframes marquee2 {
    0% {
      transform: translateX(100%);
    }

    100% {
      transform: translateX(0);
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  .animate-marquee2 {
    animation: marquee2 30s linear infinite;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
    opacity: 0;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  /* Notebook Paper Lines */
  .bg-notebook-paper {
    background-image: linear-gradient(hsla(var(--foreground) / 0.05) 1px, transparent 1px);
    background-size: 100% 2.5rem;
  }

  /* Paper Texture */
  .bg-paper-texture {
    background-color: #fdfbf7;
    background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
  }

  /* Organic Hand-Drawn Borders */
  .border-crayon {
    border: 3px solid hsl(var(--foreground));
    border-radius: 255px 15px 225px 15px/15px 225px 15px 255px;
    box-shadow: 4px 4px 0px 0px hsla(var(--foreground) / 0.1);
  }

  .border-crayon-sm {
    border: 2px solid hsl(var(--foreground));
    border-radius: 120px 10px 100px 10px/10px 100px 10px 120px;
  }

  /* Hand-Drawn Highlight */
  .hand-drawn-highlight {
    position: relative;
    z-index: 1;
    display: inline-block;
  }

  .hand-drawn-highlight::after {
    content: "";
    position: absolute;
    left: -5%;
    bottom: 5%;
    width: 110%;
    height: 40%;
    background-color: hsla(var(--accent) / 0.3);
    z-index: -1;
    transform: rotate(-1.5deg);
    border-radius: 20% 80% 30% 70% / 60% 30% 70% 40%;
  }

  /* Washi Tape Effect */
  .washi-tape {
    background-color: hsla(var(--secondary) / 0.3);
    height: 30px;
    width: 100px;
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    mask-image: url("data:image/svg+xml,%3Csvg width='120' height='40' viewBox='0 0 120 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 5L5 0L10 5L15 0L20 5L25 0L30 5L35 0L40 5L45 0L50 5L55 0L60 5L65 0L70 5L75 0L80 5L85 0L90 5L95 0L100 5L105 0L110 5L115 0L120 5V35L115 40L110 35L105 40L100 35L95 40L90 35L85 40L80 35L75 40L70 35L65 40L60 35L55 40L50 35L45 40L40 35L35 40L30 35L25 40L20 35L15 40L10 35L5 40L0 35V5Z' fill='black'/%3E%3C/svg%3E");
    backdrop-filter: blur(1px);
    z-index: 20;
  }

  @keyframes wiggle {
    0%, 100% { transform: rotate(-1deg); }
    50% { transform: rotate(1.5deg); }
  }

  .animate-wiggle {
    animation: wiggle 3s ease-in-out infinite;
  }

  /* Animation delays */
  .animation-delay-100 {
    animation-delay: 100ms;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-300 {
    animation-delay: 300ms;
  }

  .animation-delay-500 {
    animation-delay: 500ms;
  }

  .animation-delay-1000 {
    animation-delay: 1000ms;
  }

  .animation-delay-2000 {
    animation-delay: 2000ms;
  }
}